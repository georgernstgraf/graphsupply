{
    "openapi": "3.0.0",
    "info": {
        "title": "GraphSupply API",
        "description": "API for accessing graph data",
        "version": "1.0.0",
        "contact": {
            "name": "GraphSupply Support"
        }
    },
    "servers": [
        {
            "url": "http://localhost:8080/graphsupply",
            "description": "Local server",
            "variables": {
                "port": {
                    "default": "8080",
                    "description": "The port on which the server is running"
                },
                "host": {
                    "default": "localhost",
                    "description": "The host on which the server is running"
                },
                "scheme": {
                    "default": "http",
                    "description": "The scheme used for the server"
                }
            }
        }
    ],
    "paths": {
        "/": {
            "get": {
                "summary": "Home endpoint",
                "description": "Returns a simple greeting message",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "type": "string",
                                    "example": "Hello Hono!"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/graphsupply/type": {
            "get": {
                "summary": "List graph directories",
                "description": "Returns a list of URLs for available graph type directories",
                "operationId": "listGraphDirectories",
                "tags": ["graphs"],
                "responses": {
                    "200": {
                        "description": "A list of URLs to graph type directories",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "type": "string",
                                        "format": "uri"
                                    },
                                    "example": [
                                        "http://localhost:8000/graphsupply/type/andy-json",
                                        "http://localhost:8000/graphsupply/type/matrix-csv"
                                    ]
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/graphsupply/type/andy-json": {
            "get": {
                "summary": "List andy-json graph files",
                "description": "Returns a list of URLs for available graph files in the andy-json format",
                "operationId": "listAndyJsonGraphs",
                "tags": ["graphs", "andy-json"],
                "responses": {
                    "200": {
                        "description": "A list of URLs to andy-json graph files",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "type": "string",
                                        "format": "uri"
                                    },
                                    "example": [
                                        "http://localhost:8000/graphsupply/type/andy-json/a2.json",
                                        "http://localhost:8000/graphsupply/type/andy-json/a3.json",
                                        "http://localhost:8000/graphsupply/type/andy-json/a4.json"
                                    ]
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/graphsupply/type/andy-json/{filename}": {
            "get": {
                "summary": "Get specific andy-json graph",
                "description": "Returns the graph data for a specific andy-json file",
                "operationId": "getAndyJsonGraph",
                "tags": ["graphs", "andy-json"],
                "parameters": [
                    {
                        "name": "filename",
                        "in": "path",
                        "required": true,
                        "description": "The filename of the graph to retrieve",
                        "schema": {
                            "type": "string"
                        },
                        "example": "a2.json"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The graph data in andy-json format",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "description": "Andy-json graph format"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/graphsupply/type/matrix-csv": {
            "get": {
                "summary": "List matrix-csv graph files",
                "description": "Returns a list of URLs for available graph files in the matrix-csv format",
                "operationId": "listMatrixCsvGraphs",
                "tags": ["graphs", "matrix-csv"],
                "responses": {
                    "200": {
                        "description": "A list of URLs to matrix-csv graph files",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "type": "string",
                                        "format": "uri"
                                    },
                                    "example": [
                                        "http://localhost:8000/graphsupply/type/matrix-csv/24n_01.csv"
                                    ]
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/graphsupply/type/matrix-csv/{filename}": {
            "get": {
                "summary": "Get specific matrix-csv graph",
                "description": "Returns the graph data for a specific matrix-csv file converted to a structured JSON format",
                "operationId": "getMatrixCsvGraph",
                "tags": ["graphs", "matrix-csv"],
                "parameters": [
                    {
                        "name": "filename",
                        "in": "path",
                        "required": true,
                        "description": "The filename of the graph to retrieve",
                        "schema": {
                            "type": "string"
                        },
                        "example": "24n_01.csv"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The processed matrix-csv data in JSON format",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "lines": {
                                            "type": "integer",
                                            "description": "Number of rows in the matrix"
                                        },
                                        "columns": {
                                            "type": "integer",
                                            "description": "Number of columns in the matrix"
                                        },
                                        "matrix": {
                                            "type": "array",
                                            "description": "The adjacency matrix",
                                            "items": {
                                                "type": "array",
                                                "items": {
                                                    "type": "number"
                                                }
                                            }
                                        }
                                    },
                                    "required": ["lines", "columns", "matrix"]
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "Error": {
                "type": "object",
                "properties": {
                    "error": {
                        "type": "string",
                        "description": "Error message"
                    }
                },
                "required": ["error"]
            }
        }
    }
}
